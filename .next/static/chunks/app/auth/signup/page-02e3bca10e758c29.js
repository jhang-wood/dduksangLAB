(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{1981:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});var t=r(2898);let s=(0,t.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5589:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});var t=r(2898);let s=(0,t.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},2741:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});var t=r(2898);let s=(0,t.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},7972:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});var t=r(2898);let s=(0,t.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},8814:function(e,a,r){Promise.resolve().then(r.bind(r,9332))},9332:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return SignupPage}});var t=r(7437),s=r(2265),l=r(3082),n=r(4033),o=r(1396),i=r.n(o),c=r(732),d=r(7972),u=r(1295),m=r(2741),h=r(5589),p=r(1981);function SignupPage(){let[e,a]=(0,s.useState)({email:"",password:"",confirmPassword:"",name:"",phone:""}),[r,o]=(0,s.useState)(""),[x,y]=(0,s.useState)(!1),g=(0,n.useRouter)(),f=(0,l.createClientComponentClient)(),handleChange=r=>{a({...e,[r.target.name]:r.target.value})},handleSignup=async a=>{if(a.preventDefault(),o(""),e.password!==e.confirmPassword){o("비밀번호가 일치하지 않습니다.");return}if(e.password.length<6){o("비밀번호는 최소 6자 이상이어야 합니다.");return}y(!0);try{let{data:a,error:r}=await f.auth.signUp({email:e.email,password:e.password,options:{data:{name:e.name,phone:e.phone}}});if(r){o(r.message);return}if(a.user){let{error:r}=await f.from("profiles").insert({id:a.user.id,email:e.email,name:e.name,phone:e.phone,role:"user",created_at:new Date().toISOString()});r&&console.error("Profile creation error:",r)}g.push("/auth/login?message=회원가입이 완료되었습니다. 이메일을 확인해주세요.")}catch(e){o("회원가입 중 오류가 발생했습니다.")}finally{y(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center px-4 py-12",children:(0,t.jsx)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:(0,t.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-8 border border-yellow-500/20",children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-center mb-8",children:[(0,t.jsx)("span",{className:"text-yellow-400",children:"떡상연구소"}),(0,t.jsx)("span",{className:"text-white",children:" 회원가입"})]}),(0,t.jsxs)("form",{onSubmit:handleSignup,className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"이름"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,t.jsx)("input",{type:"text",name:"name",value:e.name,onChange:handleChange,required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-400 transition-colors",placeholder:"홍길동"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"이메일"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,t.jsx)("input",{type:"email",name:"email",value:e.email,onChange:handleChange,required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-400 transition-colors",placeholder:"example@email.com"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"전화번호"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,t.jsx)("input",{type:"tel",name:"phone",value:e.phone,onChange:handleChange,className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-400 transition-colors",placeholder:"010-1234-5678"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"비밀번호"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,t.jsx)("input",{type:"password",name:"password",value:e.password,onChange:handleChange,required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-400 transition-colors",placeholder:"••••••••"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"비밀번호 확인"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,t.jsx)("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:handleChange,required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-400 transition-colors",placeholder:"••••••••"})]})]}),r&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:[(0,t.jsx)(p.Z,{className:"text-red-500",size:18}),(0,t.jsx)("p",{className:"text-red-500 text-sm",children:r})]}),(0,t.jsx)("button",{type:"submit",disabled:x,className:"w-full py-3 bg-yellow-400 text-black rounded-lg font-semibold hover:bg-yellow-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"가입 중...":"회원가입"})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("p",{className:"text-gray-400",children:["이미 계정이 있으신가요?"," ",(0,t.jsx)(i(),{href:"/auth/login",className:"text-yellow-400 hover:text-yellow-500 transition-colors",children:"로그인"})]})})]})})})}}},function(e){e.O(0,[123,815,396,146,971,472,744],function(){return e(e.s=8814)}),_N_E=e.O()}]);